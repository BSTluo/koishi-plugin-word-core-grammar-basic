# koishi-plugin-word-core-grammar-basic

[![npm](https://img.shields.io/npm/v/koishi-plugin-word-core-grammar-basic?style=flat-square)](https://www.npmjs.com/package/koishi-plugin-word-core-grammar-basic)

词库引擎，基础语法扩展

# 语法内容

## 添加物品到背包

### 语法格式：

|作用|语法格式|返回值|
|--|--|--|
|添加任意数量的物品到玩家背包|(+:物品名称:数量:用户id?)|操作的数量|
|添加随机数量的物品到玩家背包|(+:物品名称:数量~数量:用户id?)|操作的数量|
|添加以背包内原数量百分之x的物品到玩家背包|(+:物品名称:数量%:用户id?)|操作的数量|

当`用户id`为`that`时，代表为在触发时，被at的用户的id

`用户id`项可不填，此时此项前的:也不需要填写，这种情况下，为触发者自身添加物品

### 使用举例：

|作用|语法|返回值|
|--|--|--|
|添加1条小鱼干到背包|(+:小鱼干:1)|1|
|添加1~100随机条小鱼干到背包|(+:小鱼干:1~100)|18|
|添加30%*背包内小鱼干的数量到背包（如果背包内有100条鱼）|(+:小鱼干:30%)|30|
|添加1条小鱼干到被at的人的背包|(+:小鱼干:1:that)|1|

***

## 从背包内减少物品

### 语法格式：

|作用|语法格式|返回值|
|--|--|--|
|从玩家背包减少任意数量的物品|(+:物品名称:数量:用户id?)|操作的数量|
|从玩家背包减少随机数量的物品|(+:物品名称:数量~数量:用户id?)|操作的数量|
|从玩家背包减少以背包内原数量百分之x的物品|(+:物品名称:数量%:用户id?)|操作的数量|

当`用户id`为`that`时，代表为在触发时，被at的用户的id

`用户id`项可不填，此时此项前的:也不需要填写，这种情况下，为触发者自身减少物品

### 使用举例：

|作用|语法|返回值|
|--|--|--|
|减少1条小鱼干|(-:小鱼干:1)|1|
|减少1~100随机条小鱼干|(-:小鱼干:1~100)|18|
|减少30%背包内的小鱼干（如果背包内有100条鱼）|(-:小鱼干:30%)|30|
|被at的人减少1条小鱼干背包|(-:小鱼干:1:that)|1|

***

## 判断背包内物品数量

### 语法格式：

|作用|语法|
|--|--|
|当背包内物品的数量满足要求则显示`信息`，否则不显示|(?:物品名称:关系:数量:信息?:用户id?)|

`关系项`可以填写如下符号：

|大于|>|
|--|--|
|小于|<|
|等于|=|
|不等于|!=|
|大于等于|<=|
|小于等于|>=|

当`用户id`为 `that`时，代表为在触发时，被at的用户的id

`用户id`项可不填，此时此项前的:也不需要填写，这种情况下，为判断触发者自身的物品是否满足条件

`信息`项可不填或为空，当不填时此项前的:也不需要填写，这种情况下：

- 当物品数量满足要求时，继续执行本条语句
- 当物品数量不满足要求时，结束当前语句的执行重新从触发词的回答序列中随机挑选一句语句，重新解析直到无可执行的语句或语句成功输出时结束

### 使用举例：

|作用|语法|返回值|
|--|--|--|
|如果自身小鱼干>10，则显示你的小鱼干满足要求！|(?:小鱼干:>:10:你的鱼干满足要求啦！)|你的鱼干满足要求啦！|
|如果自身小鱼干>10，则继续执行本条解析|(?:小鱼干:>:10)|<语句继续运行>|
|如果对方的小鱼干>10，则提示你的也满足啦|(?:小鱼干:>:10:你的鱼干满足要求啦！:that)|你的鱼干满足要求啦！|
|如果对方的小鱼干>10，则继续执行本条语句|(?:小鱼干:>:10::that)|<语句继续运行>|

***

## 查询背包数量

### 语法格式：

|作用|语法|返回值|
|--|--|--|
|查看背包内小鱼干的数量|(#:物品名称:用户id?)|执行此语句时，背包内物品数量|

当`用户id`为 `that`时，代表为在触发时，被at的用户的id

`用户id`项可不填，此时此项前的:也不需要填写，这种情况下，为查询触发者自身物品数量

### 使用举例：

|作用| 语法|返回值|
|--|--|--|
|查看自己的小鱼干数量|(#:小鱼干)|114|
|查看被at者的小鱼干数量|(#:小鱼干:that)|514|